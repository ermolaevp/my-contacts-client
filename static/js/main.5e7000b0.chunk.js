(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{417:function(e,t,n){e.exports=n(823)},823:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"CONTACTS_FETCH",function(){return ce}),n.d(a,"contactsFetch",function(){return ie}),n.d(a,"CONTACTS_UPDATE",function(){return le}),n.d(a,"contactsUpdate",function(){return ue}),n.d(a,"CONTACTS_REMOVE",function(){return se}),n.d(a,"contactsRemove",function(){return de}),n.d(a,"CONTACTS_SET_PAGE",function(){return me}),n.d(a,"contactsSetPage",function(){return pe}),n.d(a,"CONTACTS_SET_PER_PAGE",function(){return be}),n.d(a,"contactsSetPerPage",function(){return fe}),n.d(a,"CONTACTS_SET_SORT",function(){return he}),n.d(a,"contactsSetSort",function(){return ge}),n.d(a,"CONTACTS_SET_FILTER",function(){return Ee}),n.d(a,"contactsSetFilter",function(){return ye}),n.d(a,"CONTACT_SEND_UPDATE",function(){return Oe}),n.d(a,"CONTACT_UPDATE",function(){return ve}),n.d(a,"contactUpdate",function(){return je}),n.d(a,"CONTACT_UPDATE_ERROR",function(){return Ce}),n.d(a,"contactUpdateError",function(){return Se}),n.d(a,"CONTACT_SEND_ADD",function(){return we}),n.d(a,"CONTACT_ADD",function(){return ke}),n.d(a,"contactAdd",function(){return Pe}),n.d(a,"CONTACT_ADD_ERROR",function(){return Te}),n.d(a,"contactAddError",function(){return Ne}),n.d(a,"CONTACT_SEND_DELETE",function(){return xe}),n.d(a,"contactSendDelete",function(){return Re}),n.d(a,"CONTACT_DELETE",function(){return _e}),n.d(a,"contactDelete",function(){return Ae});var r=n(0),o=n.n(r),c=n(25),i=n.n(c),l={apiClient:void 0},u=r.createContext(l);var s=n(172),d=n.n(s),m=n(833),p=n(834),b=n(836),f=n(35),h=n(69),g=function(e){return e.user},E=n(96),y=n(16),O=n(13),v=(n(52),function(e){return{type:"session/authorize",payload:e}}),j=function(){return{type:"session/logout"}},C=n(17),S=n(12),w=n(165),k=n.n(w),P=function(e){var t=e.input,n=t.name,a=t.onChange,r=t.value,c=Object(f.a)(t,["name","onChange","value"]),i=e.meta,l=Object(f.a)(e,["input","meta"]);return o.a.createElement(k.a,Object.assign({},l,{name:n,helperText:i.touched?i.error:void 0,error:i.error&&i.touched,inputProps:c,onChange:a,value:r}))},T=n(5),N=n.n(T),x=function(e){var t=e.toLowerCase(),n=t[0].toUpperCase();return"".concat(n).concat(t.slice(1))},R=Object(S.withStyles)(function(e){return Object(S.createStyles)({error:{color:e.palette.error.dark,textAlign:"left"}})})(function(e){var t=e.name,n=Object(f.a)(e,["name"]);return r.createElement(y.a,{name:t,subscription:{submitError:!0,dirtySinceLastSubmit:!0}},function(e){var a,o=e.meta,c=o.submitError,i=o.dirtySinceLastSubmit;return c&&!i?r.createElement(C.h,Object.assign({color:"error",variant:"subtitle2",align:"left",gutterBottom:!0},n),"".concat((a=t,a.replace(/_+/g," ").split(" ").map(x).join(" "))," ").concat(c)):null})}),_=function(e){return function(t){var n=t.handleSubmit,a=(t.pristine,t.submitting),o=(t.invalid,t.submitSucceeded),c=(t.submitError,t.form);return r.createElement("form",{onSubmit:n,className:N()({submitSucceeded:o})},r.createElement(y.a,{type:"email",name:"email",label:"Login",component:P,id:"login",fullWidth:!0}),r.createElement(y.a,{type:"password",name:"password",component:P,label:"Password",id:"password",fullWidth:!0}),r.createElement("div",{className:e.error},r.createElement(R,{name:"error",align:"center"})),r.createElement(C.b,{type:"submit",role:"submit",variant:"contained",color:"primary",disabled:a},"login"),"\xa0",r.createElement(C.b,{onClick:c.reset,role:"reset"},"reset"))}},A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}},function(e){return e})},D=n(830),q=n(70),I=n(831),B=n(352),W=n(832),L=n(51),F=n(825),z=n(552),U=n(553),M=n(827),V=n(828),H=n(824),G=n(826);function J(e,t,n){var a="";if(n){var r=new Date(1e3*n);a="; expires=".concat(r.toUTCString())}return document.cookie="".concat(e,"=").concat(t).concat(a,"; path=/"),t}var X,$,K,Q,Y=function(e,t){var n=t.response;return"undefined"===typeof n.body?{type:"error/add",payload:{key:e,status:n.status,statusText:n.statusText}}:{type:e,payload:n.body.errors?n.body.errors:n.body}},Z=Object(W.a)(function(e,t,n){var a=n.apiClient;return e.pipe(Object(F.a)("session/login"),Object(z.a)(function(e){var t=e.payload;return Object(H.a)(a.execute({pathName:"/users/sign_in",method:"post",parameters:{body:{user:t}}})).pipe(Object(U.a)(function(e){return v(e.body.token)}),Object(M.a)(function(e){return Object(G.a)(Y("session/login/error",e))}))}))},function(e,t,n){var a=n.apiClient;return e.pipe(Object(F.a)("session/authorize"),Object(V.a)(t),Object(U.a)(function(e){var t=Object(L.a)(e,2)[1].session;return J("my-contacts-client-token",t.token,t.user.exp),a.token=t.token,{type:"user/fetch",payload:t.user.sub}}))},function(e,t,n){var a=n.apiClient;return e.pipe(Object(F.a)("session/logout"),Object(U.a)(function(){return J("my-contacts-client-token","",-1),a.token=void 0,{type:"user/clear"}}))}),ee=n(353),te=n.n(ee),ne=n(259),ae=n.n(ne),re=n(829),oe=n(835),ce="contacts/fetch",ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:ce,payload:{page:e}}},le="contacts/update",ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:le,payload:{items:e,meta:t}}},se="contacts/remove",de=function(){return{type:se}},me="contacts/set/page",pe=function(e){return{type:me,payload:e}},be="contacts/set/per_page",fe=function(e){return{type:be,payload:e}},he="contacts/set/sort",ge=function(e,t){return{type:he,payload:"".concat(t," ").concat(e)}},Ee="contacts/set/filter",ye=function(e){return{type:Ee,payload:e}},Oe="contact/send/update",ve="contact/update",je=function(e){return{type:ve,payload:e}},Ce="contact/update/error",Se=function(e){return{type:Ce,payload:e.response.body.errors}},we="contact/send/add",ke="contact/add",Pe=function(e){return{type:ke,payload:e}},Te="contact/add/error",Ne=function(e){return{type:Te,payload:e.response.body.errors}},xe="contact/send/delete",Re=function(e){return{type:xe,payload:e}},_e="contact/delete",Ae=function(e){return{type:_e,payload:e}},De=Object(W.a)(function(e,t,n){var a=n.apiClient;return e.pipe(Object(F.a)(ce,me,be,he,Ee),Object(re.a)(function(){return Object(oe.a)(300)}),Object(V.a)(t),Object(z.a)(function(e){var t=Object(L.a)(e,2)[1];return Object(H.a)(a.execute({pathName:"/users/{user_id}/contacts",method:"get",parameters:{user_id:g(t).id,page:t.contacts.meta.currentPage,per_page:t.contacts.meta.perPage,q:ae()(te()(t.contacts.filter)).join(",")}})).pipe(Object(U.a)(function(e){return ue(e.body,e.meta)}),Object(M.a)(function(e){return Object(G.a)(Y(ce,e))}))}))},function(e,t,n){var a=n.apiClient;return e.pipe(Object(F.a)(Oe),Object(V.a)(t),Object(z.a)(function(e){var t=Object(L.a)(e,2),n=t[0].payload,r=t[1];return Object(H.a)(a.execute({pathName:"/users/{user_id}/contacts/{id}",method:"put",parameters:{user_id:g(r).id,id:n.id,body:{contact:n}}})).pipe(Object(U.a)(function(e){return je(e.body)}),Object(M.a)(function(e){return Object(G.a)(Y(Ce,e))}))}))},function(e,t,n){var a=n.apiClient;return e.pipe(Object(F.a)(we),Object(V.a)(t),Object(z.a)(function(e){var t=Object(L.a)(e,2),n=t[0].payload,r=t[1];return Object(H.a)(a.execute({pathName:"/users/{user_id}/contacts",method:"post",parameters:{user_id:g(r).id,body:{contact:n}}})).pipe(Object(U.a)(function(e){return Pe(e.body)}),Object(M.a)(function(e){return Object(G.a)(Y(Te,e))}))}))},function(e,t,n){var a=n.apiClient;return e.pipe(Object(F.a)(xe),Object(V.a)(t),Object(z.a)(function(e){var t=Object(L.a)(e,2),n=t[0].payload,r=t[1];return Object(H.a)(a.execute({pathName:"/users/{user_id}/contacts/{id}",method:"delete",parameters:{user_id:g(r).id,id:n.id}})).pipe(Object(U.a)(function(){return Ae(n.id)}),Object(M.a)(function(e){return Object(G.a)(Y(xe,e))}))}))}),qe=Object(W.a)(function(e,t,n){var a=n.apiClient;return e.pipe(Object(F.a)("user/fetch"),Object(z.a)(function(e){var t=e.payload;return Object(H.a)(a.execute({pathName:"/users/{id}",method:"get",parameters:{id:t}})).pipe(Object(U.a)(function(e){return{type:"user/update",payload:e.body}}),Object(M.a)(function(e){return Object(G.a)(Y("user/fetch/error",e))}))}))},function(e,t,n){var a=n.apiClient;return e.pipe(Object(F.a)("user/signup"),Object(z.a)(function(e){var t=e.payload;return Object(H.a)(a.execute({pathName:"/users",method:"post",parameters:{body:{user:t}}})).pipe(Object(U.a)(function(){return function(e){return{type:"session/login",payload:e}}(t)}),Object(M.a)(function(e){return Object(G.a)(Y("user/signup/error",e))}))}))}),Ie=Object(W.a)(Z,De,qe),Be=n(354),We=n.n(Be),Le=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We()(e),a=arguments.length>1?arguments[1]:void 0;return t[a.type]?t[a.type](n,a):n}},Fe=n(355),ze=n.n(Fe),Ue={token:null,user:null},Me=(X={},Object(O.a)(X,"session/authorize",function(e,t){var n=t.payload,a=ze()(n);return e.merge({token:n,user:a})}),Object(O.a)(X,"session/login",function(e){return e}),Object(O.a)(X,"session/logout",function(e){return e.merge(Ue)}),X),Ve=Le(Ue,Me),He={id:void 0,email:void 0,roles:[]},Ge=($={},Object(O.a)($,"user/fetch",function(e){return e}),Object(O.a)($,"user/update",function(e,t){var n=t.payload;return e.merge(n)}),Object(O.a)($,"user/clear",function(e){return e.merge(He)}),$),Je=Le(He,Ge),Xe={key:void 0,status:void 0,statusText:void 0},$e=(K={},Object(O.a)(K,"error/add",function(e,t){var n=t.payload;return e.merge(n)}),Object(O.a)(K,"error/clear",function(e){return e.merge(Xe)}),K),Ke=Le(Xe,$e),Qe=n(184),Ye=n(185),Ze=n.n(Ye),et={items:[],meta:{currentPage:1,perPage:25,totalCount:0},filter:{}},tt=(Q={},Object(O.a)(Q,le,function(e,t){return e.merge(t.payload)}),Object(O.a)(Q,se,function(e){return e.merge(et)}),Object(O.a)(Q,ce,function(e){return e}),Object(O.a)(Q,me,function(e,t){return e.merge({meta:{currentPage:t.payload}},{deep:!0})}),Object(O.a)(Q,be,function(e,t){return e.merge({meta:{perPage:t.payload}},{deep:!0})}),Object(O.a)(Q,he,function(e,t){return e.merge({filter:{s:t.payload}},{deep:!0})}),Object(O.a)(Q,Ee,function(e,t){return e.merge({filter:Object(Qe.a)({},t.payload)})}),Object(O.a)(Q,ve,function(e,t){var n=t.payload,a=Ze()(e.items,{id:n.id});return e.setIn(["items",a],n)}),Object(O.a)(Q,ke,function(e,t){var n=t.payload;return e.merge({items:[n]},{deep:!0})}),Object(O.a)(Q,_e,function(e,t){var n=t.payload,a=Ze()(e.items,{id:n});return e.without(["items",a])}),Q),nt=Le(et,tt),at=Object(q.c)({session:Ve,user:Je,errors:Ke,contacts:nt}),rt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||q.d,ot=Object(B.a)(),ct=ot;var it=n(68),lt=function(e){return Object(S.createStyles)({root:{height:"100vh"},paper:{padding:4*e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},error:{padding:2*e.spacing.unit}})},ut=function(e){var t=e.email,n=e.password,a={};return t||(a.email="Required"),n||(a.password="Required"),a},st=A(Object(S.withStyles)(lt))(function(e){var t=e.classes;return r.createElement(C.e,{container:!0,alignContent:"center",alignItems:"center",justify:"center",className:t.root},r.createElement(C.e,{item:!0,lg:3,md:4,xs:10},r.createElement(C.f,{className:t.paper},r.createElement(C.h,{variant:"h6"},"Login or ",r.createElement(D.a,{to:"/signup"},"Signup")),r.createElement(C.c,null,"Demo credentials:",r.createElement("br",null),"demo@example.com",r.createElement("br",null),"password"),r.createElement(it.a,{listener:ct,start:"session/login",resolve:"session/authorize",reject:"session/login/error"},function(e){return r.createElement(y.b,{render:_(t),onSubmit:function(e){return function(t){return e(t).then(function(){window.location.href="#/"})}}(e),validate:ut})}))))}),dt=Object(E.a)({user:g}),mt=Object(h.b)(dt)(function(e){var t=e.component,n=e.user,a=Object(f.a)(e,["component","user"]);return r.createElement(b.a,Object.assign({},a,{component:n.id?t:st}))}),pt=function(e){return function(t){var n=t.handleSubmit,a=t.submitting,o=t.submitSucceeded,c=(t.submitError,t.form);return r.createElement("form",{onSubmit:n,className:N()({submitSucceeded:o})},r.createElement(y.a,{type:"email",name:"email",label:"Email",component:P,id:"email",fullWidth:!0,required:!0}),r.createElement(R,{name:"email"}),r.createElement(y.a,{type:"password",name:"password",component:P,label:"Password",id:"password",fullWidth:!0,required:!0,autoComplete:"new-password"}),r.createElement(R,{name:"password"}),r.createElement(y.a,{type:"password",name:"passwordConfirmation",component:P,label:"Password confirmation",id:"password-confirmation",fullWidth:!0,required:!0}),r.createElement(R,{name:"password_confirmation"}),r.createElement(y.a,{type:"hidden",name:"companyId",component:"input",label:"Company ID",id:"company-id",required:!0}),r.createElement(R,{name:"company"}),r.createElement("div",{className:e.error},r.createElement(R,{name:"error",align:"center"})),r.createElement(C.b,{type:"submit",role:"submit",variant:"contained",color:"primary",disabled:a},"Signup"),"\xa0",r.createElement(C.b,{onClick:c.reset,role:"reset"},"reset"))}},bt=function(e){return Object(S.createStyles)({root:{height:"100vh"},paper:{padding:4*e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},error:{padding:2*e.spacing.unit}})},ft=A(Object(S.withStyles)(bt))(function(e){var t=e.classes;return r.createElement(C.e,{container:!0,alignContent:"center",alignItems:"center",justify:"center",className:t.root},r.createElement(C.e,{item:!0,lg:3,md:4,xs:10},r.createElement(C.f,{className:t.paper},r.createElement(C.h,{variant:"h6"},"Signup or ",r.createElement(D.a,{to:"/login"},"Login")),r.createElement(it.a,{listener:ct,start:"user/signup",resolve:"session/login",reject:"user/signup/error"},function(e){return r.createElement(y.b,{render:pt(t),onSubmit:function(e){return function(t){return e(t).then(function(){window.location.href="#/"})}}(e),initialValues:{companyId:1}})}))))}),ht=n(166),gt=n.n(ht),Et=n(37),yt=n.n(Et),Ot=n(357),vt=n.n(Ot),jt=Object(E.a)({user:g,appError:function(e){return e.errors}}),Ct={sessionLogout:j,errorClear:function(){return{type:"error/clear"}}},St=A(Object(h.b)(jt,Ct),Object(S.withStyles)(function(e){return Object(S.createStyles)({root:{width:"100%",padding:"".concat(10*e.spacing.unit,"px ").concat(4*e.spacing.unit,"px")},spacer:{flex:"1 1 100%"},close:{padding:e.spacing.unit/2}})}))(function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,null,o.a.createElement(C.g,null,o.a.createElement(C.h,{variant:"h6",color:"inherit"},e.user.email),o.a.createElement("div",{className:e.classes.spacer}),o.a.createElement(C.b,{onClick:e.sessionLogout,color:"inherit"},"Logout"))),o.a.createElement("div",{className:e.classes.root},e.children),o.a.createElement(gt.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:!!e.appError.key,autoHideDuration:6e3,onClose:e.errorClear,ContentProps:{"aria-describedby":"app-error"},message:o.a.createElement("span",{id:"app-error"},e.appError.status," ",e.appError.statusText),action:[o.a.createElement(yt.a,{key:"close","aria-label":"Close",color:"inherit",className:e.classes.close,onClick:e.errorClear},o.a.createElement(vt.a,null))]}))}),wt=n(46),kt=n.n(wt),Pt=n(49),Tt=n.n(Pt),Nt=n(48),xt=n.n(Nt),Rt=n(47),_t=n.n(Rt),At=n(32),Dt=n.n(At),qt=function(e){return function(t){var n=t.handleSubmit,a=t.submitSucceeded;return r.createElement("form",{onSubmit:n,className:N()({submitSucceeded:a}),id:e},r.createElement(R,{name:"error"}),r.createElement("div",null,r.createElement(y.a,{name:"name",label:"Name",component:P,fullWidth:!0,margin:"dense"}),r.createElement(R,{name:"name"})),r.createElement("div",null,r.createElement(y.a,{name:"number",label:"Number",component:P,fullWidth:!0,margin:"dense"}),r.createElement(R,{name:"number"})),r.createElement("div",null,r.createElement(y.a,{name:"email",label:"Email",type:"email",component:P,fullWidth:!0,margin:"dense"}),r.createElement(R,{name:"email"})))}},It=function(e){var t=e.open,n=e.onClose,a=e.currentContact;return r.createElement(kt.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",maxWidth:"sm",fullWidth:!0},r.createElement(_t.a,{id:"form-dialog-title"},"Edit contact"),r.createElement(xt.a,null,r.createElement(it.a,{listener:ct,start:Oe,resolve:ve,reject:Ce},function(e){return r.createElement(y.b,{render:qt("contact-edit-form"),onSubmit:function(e){return function(t){return e(t).then(function(){return n()})}}(e),initialValues:a})})),r.createElement(Tt.a,null,r.createElement(Dt.a,{onClick:n,color:"primary"},"Cancel"),r.createElement(Dt.a,{type:"submit",form:"contact-edit-form",color:"primary"},"Save")))},Bt=function(e){var t=e.open,n=e.onClose;return r.createElement(kt.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",maxWidth:"sm",fullWidth:!0},r.createElement(_t.a,{id:"form-dialog-title"},"Add contact"),r.createElement(xt.a,null,r.createElement(it.a,{listener:ct,start:we,resolve:ke,reject:Te},function(e){return r.createElement(y.b,{render:qt("contact-add-form"),onSubmit:function(e){return function(t){return e(t).then(function(){return n()})}}(e)})})),r.createElement(Tt.a,null,r.createElement(Dt.a,{onClick:n,color:"primary"},"Cancel"),r.createElement(Dt.a,{type:"submit",form:"contact-add-form",color:"primary"},"Add")))},Wt=n(93),Lt=n.n(Wt),Ft=function(e){var t=e.open,n=e.currentContact,a=e.onDelete,o=e.onClose;return r.createElement(kt.a,{open:t,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.createElement(_t.a,{id:"alert-dialog-title"},"Delete?"),r.createElement(xt.a,null,r.createElement(Lt.a,{id:"alert-dialog-description"},n.name)),r.createElement(Tt.a,null,r.createElement(Dt.a,{onClick:o,color:"primary",autoFocus:!0},"Cancel"),r.createElement(Dt.a,{onClick:function(){a(n),o()},color:"primary"},"Delete")))},zt=function(e){var t=e.open,n=e.currentContact,a=e.onClose;return r.createElement(kt.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.createElement(_t.a,{id:"alert-dialog-title"},"Info"),r.createElement(xt.a,null,r.createElement(Lt.a,{id:"alert-dialog-description"},n.name)),r.createElement(Tt.a,null,r.createElement(Dt.a,{onClick:a,color:"primary",autoFocus:!0},"Ok")))},Ut=n(98),Mt=n(99),Vt=n(190),Ht=n(187),Gt=n(191),Jt=n(359),Xt=n.n(Jt),$t=n(188),Kt=n.n($t),Qt=n(169),Yt=n.n(Qt),Zt=n(170),en=n.n(Zt),tn=n(38),nn=n.n(tn),an=n(171),rn=n.n(an),on=n(94),cn=n.n(on),ln=n(64),un=n.n(ln),sn=n(95),dn=n.n(sn),mn=n(167),pn=n.n(mn),bn=n(168),fn=n.n(bn),hn=n(58),gn=n.n(hn),En=function(e){function t(){var e,n;Object(Ut.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Vt.a)(this,(e=Object(Ht.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){n.props.onRequestSort(t,e)}},n}return Object(Gt.a)(t,e),Object(Mt.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onSelectAllClick,a=t.order,r=t.orderBy,c=t.numSelected,i=t.rowCount,l=t.columns;t.classes;return o.a.createElement(pn.a,null,o.a.createElement(cn.a,null,o.a.createElement(nn.a,{padding:"checkbox"},o.a.createElement(dn.a,{indeterminate:c>0&&c<i,checked:c===i,onChange:n})),l.map(function(t){return o.a.createElement(nn.a,{key:t.id,numeric:t.numeric,padding:t.disablePadding?"none":"default",sortDirection:r===t.id&&a},o.a.createElement(gn.a,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},o.a.createElement(fn.a,{active:r===t.id,direction:a,onClick:e.createSortHandler(t.id)},t.label)))},this),o.a.createElement(nn.a,null)))}}]),t}(o.a.Component),yn=Object(S.withStyles)(function(e){return Object(S.createStyles)({})})(En),On=n(128),vn=n.n(On),jn=n(56),Cn=n.n(jn),Sn=n(358),wn=n.n(Sn),kn=n(57),Pn=function(e){return Object(S.createStyles)({root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(kn.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"},search:Object(O.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(kn.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(kn.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(O.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})})},Tn=n(63),Nn=n.n(Tn),xn=function(e){var t=e.handleSubmit;return o.a.createElement(y.c,{subscription:{values:!0},onChange:t})},Rn=function(e){var t=e.handleSubmit,n=e.classes,a=e.name,r=void 0===a?"name_cont":a,c=e.id,i=void 0===c?"search-form":c;return o.a.createElement("form",{onSubmit:t,id:i},o.a.createElement(xn,{handleSubmit:t}),o.a.createElement(y.a,{type:"search",label:"Search",name:r},function(e){var t=e.input,a=t.name,r=t.onChange,c=t.value,i=Object(f.a)(t,["name","onChange","value"]),l=e.meta,u=Object(f.a)(e,["input","meta"]);return o.a.createElement(Nn.a,Object.assign({},u,{name:a,error:l.error&&l.touched,inputProps:i,onChange:r,value:c,placeholder:"Search...",classes:{root:n.inputRoot,input:n.inputInput}}))}))},_n=Object(S.withStyles)(Pn)(function(e){var t=e.numSelected,n=e.classes,a=e.caption,r=e.onRequestFilter,c=e.filterBy;return o.a.createElement(vn.a,{className:N()(n.root,Object(O.a)({},n.highlight,t>0))},o.a.createElement("div",{className:n.title},t>0?o.a.createElement(Cn.a,{color:"inherit",variant:"subtitle1"},t," selected"):o.a.createElement(Cn.a,{variant:"h6",id:"tableTitle"},a)),o.a.createElement("div",{className:n.spacer}),r&&c&&0===t&&o.a.createElement("div",{className:n.search},o.a.createElement("div",{className:n.searchIcon},o.a.createElement(wn.a,null)),o.a.createElement(y.b,{render:function(e){return function(t){return o.a.createElement(Rn,Object.assign({},e,t))}}({name:c,classes:n}),onSubmit:r})),o.a.createElement("div",{className:n.actions},t>0&&o.a.createElement(gn.a,{title:"Delete"},o.a.createElement(yt.a,{"aria-label":"Delete"},o.a.createElement(Kt.a,null)))))}),An=function(e){function t(){var e,n;Object(Ut.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Vt.a)(this,(e=Object(Ht.a)(t)).call.apply(e,[this].concat(r)))).state={order:"asc",orderBy:"name",selected:[]},n.handleRequestSort=function(e,t){var a=t,r="desc";n.state.orderBy===t&&"desc"===n.state.order&&(r="asc"),n.setState({order:r,orderBy:a}),n.props.onRequestSort(r,a)},n.handleSelectAllClick=function(e){e.target.checked?n.setState({selected:n.props.data.map(function(e){return e.id})}):n.setState({selected:[]})},n.handleSelect=function(e){return function(t){t.stopPropagation();var a=n.state.selected,r=a.indexOf(e),o=[];-1===r?o=o.concat(a,e):0===r?o=o.concat(a.slice(1)):r===a.length-1?o=o.concat(a.slice(0,-1)):r>0&&(o=o.concat(a.slice(0,r),a.slice(r+1))),n.setState({selected:o})}},n.handleChangePage=function(e,t){n.props.onChangePage(t+1)},n.handleChangeRowsPerPage=function(e){n.props.onChangeRowsPerPage(e.target.value)},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)},n.handleEditRowClick=function(e){return function(t){t.stopPropagation(),n.props.onRequestEdit&&n.props.onRequestEdit(e)}},n.handleDeleteRowClick=function(e){return function(t){t.stopPropagation(),n.props.onRequestDelete&&n.props.onRequestDelete(e)}},n.handleShowRowClick=function(e){return function(t){t.stopPropagation(),n.props.onRequestShow&&n.props.onRequestShow(e)}},n}return Object(Gt.a)(t,e),Object(Mt.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,a=n.order,r=n.orderBy,c=n.selected,i=this.props,l=i.data,u=i.columns,s=i.caption,d=i.currentPage,m=i.perPage,p=i.totalCount,b=i.onRequestFilter,f=i.filterBy;Math.min(m,p-d*m);return o.a.createElement(un.a,{className:t.root},o.a.createElement(_n,{numSelected:c.length,caption:s,onRequestFilter:b,filterBy:f}),o.a.createElement("div",{className:t.tableWrapper},o.a.createElement(Yt.a,{className:t.table,"aria-labelledby":"tableTitle"},o.a.createElement(yn,{numSelected:c.length,order:a,orderBy:r,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:l.length,columns:u}),o.a.createElement(en.a,null,l.map(function(t){var n=e.isSelected(t.id);return o.a.createElement(cn.a,{hover:!0,onClick:e.handleShowRowClick(t.id),role:"checkbox","aria-checked":n,tabIndex:-1,key:t.id,selected:n},o.a.createElement(nn.a,{padding:"checkbox"},o.a.createElement(dn.a,{checked:n,onClick:e.handleSelect(t.id)})),u.map(function(e){return o.a.createElement(nn.a,{key:e.id,component:"name"===e.id?"th":"td",padding:"name"===e.id?"none":"default"},t[e.id])}),o.a.createElement(nn.a,{align:"right"},o.a.createElement(gn.a,{title:"Edit"},o.a.createElement(yt.a,{"aria-label":"Edit",onClick:e.handleEditRowClick(t.id)},o.a.createElement(Xt.a,null))),o.a.createElement(gn.a,{title:"Delete"},o.a.createElement(yt.a,{"aria-label":"Delete",onClick:e.handleDeleteRowClick(t.id)},o.a.createElement(Kt.a,null)))))})))),o.a.createElement(rn.a,{rowsPerPageOptions:[5,10,25],component:"div",count:p,rowsPerPage:m,page:d-1,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(o.a.Component),Dn=Object(S.withStyles)(function(e){return Object(S.createStyles)({root:{width:"100%",marginTop:3*e.spacing.unit},table:{minWidth:1020},tableWrapper:{overflowX:"auto"}})})(An),qn=function(e){return Object(S.createStyles)({root:{position:"relative"},addButton:{position:"absolute",top:2*-e.spacing.unit,left:2*-e.spacing.unit}})},In=n(260),Bn=n.n(In),Wn=[{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"number",numeric:!1,disablePadding:!1,label:"Number"},{id:"email",numeric:!1,disablePadding:!1,label:"Email"}],Ln=n(360),Fn=n.n(Ln),zn=Object(E.a)({contacts:function(e){return e.contacts},user:g}),Un=A(Object(h.b)(zn,a),Object(S.withStyles)(qn))(function(e){var t=e.contacts.meta,n=t.currentPage,a=t.perPage,c=t.totalCount,i=e.classes;Object(r.useEffect)(function(){e.user.id&&e.contactsFetch()},[e.user.id]);var l=Object(r.useState)({}),u=Object(L.a)(l,2),s=u[0],d=u[1],m=Object(r.useState)(""),p=Object(L.a)(m,2),b=p[0],f=p[1],h=function(){d({}),f("")},g=function(t){return function(n){var a=Bn()(e.contacts.items,{id:n});a&&(d(a),f(t))}};return o.a.createElement(St,null,o.a.createElement("div",{className:i.root},o.a.createElement(Dn,{data:e.contacts.items,columns:Wn,caption:"Contacts",currentPage:n,perPage:a,totalCount:c,onChangePage:e.contactsSetPage,onChangeRowsPerPage:e.contactsSetPerPage,onRequestSort:e.contactsSetSort,onRequestEdit:g("edit"),onRequestDelete:g("delete"),onRequestShow:g("show"),onRequestFilter:e.contactsSetFilter,filterBy:"number_or_name_or_email_cont"}),o.a.createElement(It,{open:"edit"===b,onClose:h,currentContact:s}),o.a.createElement(Bt,{open:"add"===b,onClose:h}),o.a.createElement(Ft,{open:"delete"===b,onClose:h,onDelete:e.contactSendDelete,currentContact:s}),o.a.createElement(zt,{open:"show"===b,onClose:h,currentContact:s}),o.a.createElement(C.d,{onClick:function(){return f("add")},color:"primary","aria-label":"Add",size:"small",className:i.addButton},o.a.createElement(Fn.a,null))))}),Mn=function(){return r.createElement("div",null,r.createElement("div",null,r.createElement("span",null,"We can found nothing :("),r.createElement("br",null),r.createElement(D.a,{to:"/"},r.createElement("span",null,"Go to the main page"))))},Vn=function(){return r.createElement(m.a,null,r.createElement(p.a,null,r.createElement(b.a,{component:st,path:"/login",exact:!0}),r.createElement(b.a,{component:ft,path:"/signup",exact:!0}),r.createElement(mt,{component:Un,path:"/",exact:!0}),r.createElement(b.a,{component:Mn})))},Hn=n(257),Gn=n.n(Hn),Jn=n(258),Xn=n.n(Jn),$n=Object(S.createMuiTheme)({palette:{primary:Gn.a,secondary:Xn.a},typography:{useNextVariants:!0}}),Kn=function(e){return r.createElement(u.Provider,{value:e},r.createElement(S.MuiThemeProvider,{theme:$n},r.createElement(r.Fragment,null,r.createElement(d.a,null),r.createElement(Vn,null))))},Qn=n(192),Yn=n.n(Qn),Zn=n(26),ea=n.n(Zn),ta=n(261),na=n.n(ta),aa=n(362),ra=function(){function e(t,n){Object(Ut.a)(this,e),this.spec=t,this.token=n}return Object(Mt.a)(e,[{key:"execute",value:function(e){var t=e.operationId,n=e.pathName,a=e.method,r=e.parameters,o=e.requestContentType,c=void 0===o?"application/json":o,i=e.responseContentType,l=void 0===i?"application/json":i,u=Object(f.a)(e,["operationId","pathName","method","parameters","requestContentType","responseContentType"]);n&&a&&!t&&(t="".concat(a.toLowerCase(),"-").concat(n));var s={authorized:{}};this.token&&(s.authorized={Authorization:"Bearer ".concat(this.token)});var d=Yn.a.buildRequest(Object(Qe.a)({spec:this.spec,operationId:t,parameters:r,securities:s,requestContentType:c,responseContentType:l,responseInterceptor:function(e){var t={};"x-current-page x-per-page x-runtime x-runtime x-total-count x-total-pages".split(" ").forEach(function(n){var a=e.headers[n];if(a){var r=/x-([a-z\-]+)/.exec(n);if(r&&r[1]){var o=Object(aa.camelize)(r[1]);t[o]=+a}}});var n=e.headers.authorization;if(n){var a=/^Bearer (.*?)$/.exec(n);a&&a[1]&&(e.authToken=a[1])}return e.meta=t,e},requestInterceptor:function(e){return e},http:Qn.http},u));return d.body&&(na()(d.body)||ea()(d.body))&&(d.body=JSON.stringify(d.body)),Object(Qn.http)(d)}}]),e}(),oa=function(e){var t="".concat(e,"="),n=document.cookie.split(";"),a=!0,r=!1,o=void 0;try{for(var c,i=n[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){for(var l=c.value;" "===l.charAt(0);)l=l.substring(1,l.length);if(0===l.indexOf(t))return l.substring(t.length,l.length)}}catch(u){r=!0,o=u}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return null}("my-contacts-client-token")||void 0,ca=window.openApiSpec,ia=new ra(void 0===ca?{}:ca,oa),la=function(e){var t=Object(I.a)({dependencies:e}),n=Object(q.e)(at,rt(Object(q.a)(t,ot.middleware)));return t.run(Ie),n}({apiClient:ia});oa?la.dispatch(v(oa)):la.dispatch({type:"session/logout"}),i.a.render(o.a.createElement(h.a,{store:la},o.a.createElement(Kn,{apiClient:ia})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[417,2,1]]]);
//# sourceMappingURL=main.5e7000b0.chunk.js.map